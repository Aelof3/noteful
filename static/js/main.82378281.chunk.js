(this.webpackJsonpnoteful=this.webpackJsonpnoteful||[]).push([[0],{22:function(e,t,n){e.exports=n(34)},27:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(20),c=n.n(o),s=(n(27),n(17)),i=n(1),l=n(2),d=n(4),m=n(3),u=n(7),p=n(6),f=(n(28),a.a.createContext({updateStore:function(){},url:"http://localhost:8000"})),h=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).deleteNote=function(){fetch("".concat(e.context.url,"/notes/").concat(e.props.id),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(t){e.context.updateStore(),e.props.history.push("/")})).catch((function(e){throw new Error("Error deleting note: ".concat(e.message))}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,r=e.modified,o=e.folderId,c=e.content,s=e.history,i=new Date(r);return a.a.createElement("li",{"data-id":o,className:"note--item ".concat(s.location.pathname.includes(t)?"note--item--checked":"")},a.a.createElement(u.b,{className:"note--item--link",to:"/note/".concat(t)},n),a.a.createElement("div",{className:"section--row"},a.a.createElement("p",{className:"note--item--modified"},"Date modified on ".concat(i.toLocaleString())),a.a.createElement("button",{onClick:this.deleteNote,className:"note--item--delete"},"Delete Note")),a.a.createElement("p",{className:"note--item--content hidden"},c))}}]),n}(r.Component);h.contextType=f;var E=Object(p.f)(h),b=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).getNoteList=function(){if("object"===typeof e.props.store)return e.props.store.notes.map((function(t){return a.a.createElement(E,{key:t.id,id:t.id,name:t.name,modified:t.modified,folderId:t.folderId,content:t.content,store:e.props.store})}))},e.getBottomContents=function(){return e.props.history.location.pathname.includes("/note/")?a.a.createElement("p",{className:"note--item--content"},e.props.store.notes[0].content):a.a.createElement(u.b,{to:"/add-note/",className:"note--item--add"},"Add Note")},e}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("main",{className:"section--main"},a.a.createElement("ul",null,this.getNoteList()),a.a.createElement("div",{className:"section--row"},this.getBottomContents()))}}]),n}(r.Component);b.contextType=f;var v=Object(p.f)(b),y=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).deleteNote=function(t){fetch("".concat(e.context.url,"/notes/").concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(t){e.context.updateStore()})).catch((function(e){throw new Error("Error deleting note: ".concat(e.message))}))},e.deleteFolder=function(t){fetch("".concat(e.context.url,"/folders/").concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(t){e.context.updateStore(),e.props.history.push("/")})).catch((function(e){throw new Error("Error deleting folder: ".concat(e.message))}))},e.getRidOfMe=function(){e.props.store.notes.forEach((function(t){t.folderId===e.props.id&&e.deleteNote(t.id)})),e.deleteFolder(e.props.id)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.name,o=t.history;return a.a.createElement("li",{key:n,className:"folder--item ".concat(o.location.pathname.includes(n)?"folder--item--checked":"")},a.a.createElement(u.b,{to:"/folder/".concat(n)},r),a.a.createElement("button",{className:"folder--item--delete",onClick:function(){return e.getRidOfMe()}},"delete"))}}]),n}(r.Component);y.contextType=f;var O=Object(p.f)(y),j=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).getFolderList=function(){if("object"===typeof e.props.store&&!e.props.history.location.pathname.includes("/note/"))return e.props.store.folders.map((function(t){return a.a.createElement(O,{key:t.id,id:t.id,name:t.name,store:e.props.store})}))},e.getBottomButton=function(){return e.props.history.location.pathname.includes("/note/")?a.a.createElement(u.b,{to:"/",className:"button--back"},"Go back"):a.a.createElement(u.b,{to:"/add-folder/",className:"folder--item--add"},"Add Folder")},e.getFolderName=function(){if(e.props.history.location.pathname.includes("/note/")){var t=e.props.store.folders.find((function(t){return t.id===e.props.store.notes[0].folderId}));return console.log(t),a.a.createElement("h3",null,"Folder: ",t.name)}},e}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("section",{className:"section--sidebar"},a.a.createElement("ul",null,this.getFolderList()),this.getBottomButton(),this.getFolderName())}}]),n}(r.Component);j.contextType=f;var g=Object(p.f)(j),N=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(l.a)(n,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("h2",null,this.props.message):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.a.Component),S=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t={notes:this.props.store.notes.filter((function(t){return e.props.history.location.pathname.includes(t.folderId)})),folders:this.props.store.folders};return a.a.createElement("div",{className:"App"},a.a.createElement(N,{message:"Sidebar Section Error"},a.a.createElement(g,{store:t})),a.a.createElement(N,{message:"Main Section Error"},a.a.createElement(v,{store:t})))}}]),n}(r.Component),w=Object(p.f)(S),k=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(N,{message:"Sidebar Section Error"},a.a.createElement(g,{store:this.props.store})),a.a.createElement(N,{message:"Main Section Error"},a.a.createElement(v,{store:this.props.store})))}}]),n}(r.Component),F=Object(p.f)(k),x=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t={notes:this.props.store.notes.filter((function(t){return e.props.history.location.pathname.includes(t.id)})),folders:this.props.store.folders};return a.a.createElement("div",{className:"App"},a.a.createElement(N,{message:"Sidebar Section Error"},a.a.createElement(g,{store:t})),a.a.createElement(N,{message:"Main Section Error"},a.a.createElement(v,{store:t})))}}]),n}(r.Component),C=Object(p.f)(x),A=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{class:"error"},a.a.createElement("div",{class:"error--spacer"}),a.a.createElement("h2",{class:"error--message"},"404 Not Found"))}}]),n}(r.Component),I=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleOnSumbit=function(t){var n=new FormData(t).get("folderName");"string"!==typeof n||n.length<=0||e.addFolder({name:n})},e.addFolder=function(t){fetch("".concat(e.context.url,"/folders/"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(t){e.context.updateStore(),e.props.history.push("/")})).catch((function(e){throw new Error("Error creating folder")}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement(N,{message:"Sidebar Section Error"},a.a.createElement(g,{store:this.props.store,history:this.props.history})),a.a.createElement(N,{message:"Main Section Error"},a.a.createElement("main",{className:"section--main"},a.a.createElement("form",{className:"add--form",onSubmit:function(t){t.preventDefault(),e.handleOnSumbit(t.target)}},a.a.createElement("div",{className:"add--form--field"},a.a.createElement("label",{htmlFor:"folderName"},"Folder name:"),a.a.createElement("input",{type:"text",id:"folderName",name:"folderName",required:!0})),a.a.createElement("button",{type:"submit"},"Submit")))))}}]),n}(r.Component);I.contextType=f;var D=Object(p.f)(I),T=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).handleOnSumbit=function(t){var n=new FormData(t),r={name:n.get("noteName"),modified:(new Date).toISOString(),content:n.get("noteContent"),folderId:n.get("folderId")};e.addNote(r)},e.addNote=function(t){fetch("".concat(e.context.url,"/notes/"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(t){e.context.updateStore(),e.props.history.push("/")})).catch((function(e){throw new Error("Error creating note")}))},e.getFolderList=function(){if("object"===typeof e.props.store&&!e.props.history.location.pathname.includes("/note/"))return e.props.store.folders.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement(N,{message:"Sidebar Section Error"},a.a.createElement(g,{store:this.props.store,history:this.props.history})),a.a.createElement(N,{message:"Main Section Error"},a.a.createElement("main",{className:"section--main"},a.a.createElement("form",{className:"add--form",onSubmit:function(t){t.preventDefault(),e.handleOnSumbit(t.target)}},a.a.createElement("div",{className:"add--form--field"},a.a.createElement("label",{htmlFor:"noteName"},"Name:"),a.a.createElement("input",{type:"text",id:"noteName",name:"noteName",required:!0})),a.a.createElement("div",{className:"add--form--field"},a.a.createElement("label",{htmlFor:"noteContent"},"Content:"),a.a.createElement("textarea",{id:"noteContent",name:"noteContent",required:!0})),a.a.createElement("div",{className:"add--form--field"},a.a.createElement("label",{htmlFor:"folderId"},"Folder:"),a.a.createElement("select",{name:"folderId",id:"folderId",required:!0},this.getFolderList())),a.a.createElement("div",{className:"add--form--field"},a.a.createElement("button",{type:"submit"},"Submit"))))))}}]),n}(r.Component);T.contextType=f;var L=Object(p.f)(T),M=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("header",null,a.a.createElement("div",{className:"header--spacer"}),a.a.createElement("div",{className:"header--title"},a.a.createElement(u.b,{to:"/"},a.a.createElement("h1",null,"Noteful"))))}}]),n}(r.Component),B=Object(p.f)(M),q=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={store:{folders:[],notes:[]},url:"http://localhost:8000"},e.updateStore=function(){e.getFolders(),e.getNotes()},e.getFolders=function(){fetch("".concat(e.state.url,"/folders")).then((function(e){return e.json()})).then((function(t){e.setState({store:{folders:t,notes:e.state.store.notes}})})).catch((function(e){throw new Error("Error retrieving folders: ".concat(e.message))}))},e.getNotes=function(){fetch("".concat(e.state.url,"/notes")).then((function(e){return e.json()})).then((function(t){e.setState({store:{folders:e.state.store.folders,notes:t}})})).catch((function(e){throw new Error("Error retrieving notes: ".concat(e.message))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.updateStore()}},{key:"render",value:function(){var e=this,t=Object(s.a)(Object(s.a)({},this.state),{},{updateStore:this.updateStore});return a.a.createElement(f.Provider,{value:t},a.a.createElement(u.a,null,a.a.createElement(B,null),a.a.createElement(p.c,null,a.a.createElement(p.a,{exact:!0,path:"/",render:function(){return a.a.createElement(F,{store:e.state.store})}}),a.a.createElement(p.a,{path:"/folder/:folderId",render:function(){return a.a.createElement(w,{store:e.state.store})}}),a.a.createElement(p.a,{path:"/note/:id",render:function(){return a.a.createElement(C,{store:e.state.store})}}),a.a.createElement(p.a,{path:"/add-folder/",render:function(){return a.a.createElement(D,{store:e.state.store})}}),a.a.createElement(p.a,{path:"/add-note/",render:function(){return a.a.createElement(L,{store:e.state.store})}}),a.a.createElement(p.a,{render:function(){return a.a.createElement(A,null)}}))))}}]),n}(r.Component);q.contextType=f;var J=q;c.a.render(a.a.createElement(J,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.82378281.chunk.js.map